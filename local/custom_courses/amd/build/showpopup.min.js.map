{"version":3,"file":"showpopup.min.js","sources":["../src/showpopup.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * User allocation module\n *\n * @module     local_custom_courses/showpopup\n * @package\n * @copyright  2024 Moodle India Information Solutions Pvt Ltd\n * @author     2024 Shamala <shamala.kandula@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport $ from 'jquery';\nimport * as Notification from 'core/notification';\nimport * as Str from 'core/str';\n\n/**\n * Displays a modal form to userrole info\n *\n * @param {string} message\n */\nconst showpopup = function(message) {\n    var reason = message;\n    Str.get_strings([\n        {\n            key: 'ok',\n            component: 'local_custom_courses',\n        },\n        {\n            key: 'confirm',\n            component: 'local_custom_courses',\n        },\n    ]).then(function(s) {\n        Notification.confirm(s[2], reason, s[0], s[1], function() {\n        });\n    }).fail(Notification.exception);\n};\n/**\n * Initialise user creation\n */\nexport const init = () => {\n    //showpopup();\n    var checkurl = window.location.pathname.split(\"/\");\n    if (checkurl.includes('course') || checkurl.includes('mod')) {\n        setInterval(function(){\n            $.ajax({\n                url: M.cfg.wwwroot + '/local/custom_courses/checkcompletion.php',\n                method: 'GET',\n                dataType: 'json',\n                success: function(response) {\n                    if (response.completed) {\n                        showpopup(response.message);\n                    }\n                }\n            });\n        },1000);\n    }\n};\n/**\n * Handling the certificates dropdown in courses\n *\n */\nexport const certificate_dropdown = () => {\n    $(\"select[name='certificateid'] option:selected\").prop('selected', false);\n    $(\"select[name='certificateid']\").parent().find('.bg-secondary').html('');\n};\n"],"names":["obj","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireWildcard","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_jquery","Notification","Str","_exports","init","checkurl","window","location","pathname","split","includes","setInterval","$","ajax","url","M","cfg","wwwroot","method","dataType","success","response","message","reason","completed","get_strings","component","then","s","confirm","fail","exception","certificate_dropdown","prop","parent","find","html"],"mappings":"yIA0BgC,IAAAA;;;;;;;;;KAAA,SAAAC,yBAAAC,mCAAAC,wBAAAC,sBAAAD,QAAAE,qBAAAF,eAAAF,kCAAAC,oBAAAA,YAAAG,iBAAAD,oBAAAF,aAAA,SAAAI,wBAAAN,IAAAE,iBAAAA,aAAAF,KAAAA,IAAAO,kBAAAP,cAAAA,sBAAAA,wBAAAA,WAAAQ,QAAAR,SAAAS,MAAAR,yBAAAC,gBAAAO,OAAAA,MAAAC,IAAAV,YAAAS,MAAAE,IAAAX,SAAAY,UAAAC,sBAAAC,OAAAC,gBAAAD,OAAAE,iCAAAC,OAAAjB,mBAAAiB,KAAAH,OAAAI,UAAAC,eAAAC,KAAApB,IAAAiB,UAAAI,KAAAR,sBAAAC,OAAAE,yBAAAhB,IAAAiB,UAAAI,OAAAA,KAAAV,KAAAU,KAAAC,KAAAR,OAAAC,eAAAH,OAAAK,IAAAI,MAAAT,OAAAK,KAAAjB,IAAAiB,YAAAL,OAAAJ,QAAAR,IAAAS,OAAAA,MAAAa,IAAAtB,IAAAY,QAAAA,kHAFhCW,SAEgCvB,IAFhCuB,UAEgCvB,IAAAO,WAAAP,KAAAQ,QAAAR,KADhCwB,aAAAlB,wBAAAkB,cACAC,IAAAnB,wBAAAmB,KA2CEC,SAAAC,KAjBkBA,KAEhB,IAAIC,SAAWC,OAAOC,SAASC,SAASC,MAAM,MAC1CJ,SAASK,SAAS,WAAaL,SAASK,SAAS,SACjDC,aAAY,WACRC,gBAAEC,KAAK,CACHC,IAAKC,EAAEC,IAAIC,QAAU,4CACrBC,OAAQ,MACRC,SAAU,OACVC,QAAS,SAASC,UA5BhB,IAASC,QACnBC,OA4BgBF,SAASG,YA7BNF,QA8BOD,SAASC,QA7BnCC,OAASD,QACbpB,IAAIuB,YAAY,CACZ,CACI/B,IAAK,KACLgC,UAAW,wBAEf,CACIhC,IAAK,UACLgC,UAAW,0BAEhBC,MAAK,SAASC,GACb3B,aAAa4B,QAAQD,EAAE,GAAIL,OAAQK,EAAE,GAAIA,EAAE,IAAI,kBAEhDE,KAAK7B,aAAa8B,iBAoBf,MAUR5B,SAAA6B,qBAHkCA,MAChC,EAAApB,iBAAE,gDAAgDqB,KAAK,YAAY,IACnE,EAAArB,iBAAE,gCAAgCsB,SAASC,KAAK,iBAAiBC,KAAK,GAAG,CAC3E"}