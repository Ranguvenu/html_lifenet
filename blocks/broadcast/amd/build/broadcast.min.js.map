{"version":3,"file":"broadcast.min.js","sources":["../src/broadcast.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Functionality for Broadcast\n *\n * @module     block_broadcast/Broadcast\n * @copyright  Dipanshu Kasera <kasera.dipanshu@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport $ from 'jquery';\nimport * as Str from 'core/str';\nimport Notification from 'core/notification';\nimport Ajax from 'core/ajax';\nimport 'block_broadcast/jquery.dataTables';\n\nvar SERVICES = {\n    DELETE_BROADCAST_SERVICES: 'block_broadcast_delete_broadcast',\n};\n\n/**\n * broadcast delete\n *\n * @param {object} args\n */\nexport const deleteModal = (args) => {\n    var id = args.id;\n    var actionstatusmsg = Str.get_string('confirmdelete', 'block_broadcast');\n    Str.get_strings([\n        {key: 'confirm'},\n        {key: 'cancel'},\n    ]).then(function(s) {\n        Notification.confirm(s[0], actionstatusmsg, s[0], s[1], function() {\n            var promises = Ajax.call([\n                {methodname: SERVICES.DELETE_BROADCAST_SERVICES, args: {id: id}}\n            ]);\n            promises[0].done(function() {\n                window.location.reload();\n            }).fail(function() {\n                // Exception.\n            });\n        });\n    }).fail(Notification.exception);\n};\n\n/**\n * Initialise broadcast actions\n */\nexport const init = () => {\n    $(document).ready(function() {\n        $('#broadcast').DataTable({\n            retrieve: true,\n            bInfo : false,\n            lengthMenu: [5, 10, 25, 50],\n            language: {\n                emptyTable: \"No Records Found\",\n                paginate: {\n                    previous: \"<\",\n                    next: \">\"\n                },\n                zeroRecords: 'No motivation message found',\n            },\n        });\n    });\n};\n"],"names":["_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireDefault","obj","__esModule","default","_jquery","Str","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","_notification","_ajax","SERVICES","_exports","deleteModal","args","id","actionstatusmsg","get_string","get_strings","then","s","Notification","confirm","Ajax","methodname","done","window","location","reload","fail","exception","init","$","document","ready","DataTable","retrieve","bInfo","lengthMenu","language","emptyTable","paginate","previous","next","zeroRecords"],"mappings":"oMA0B6B,SAAAA,yBAAAC,mCAAAC,wBAAAC,sBAAAD,QAAAE,qBAAAF,eAAAF,kCAAAC,oBAAAA,YAAAG,iBAAAD,oBAAAF,aAAA,SAAAI,uBAAAC,YAAAA,KAAAA,IAAAC,WAAAD,KAAAE,QAAAF;;;;;;;uGAH7BG,QAAAJ,uBAAAI,SACAC,IAE6B,SAAAJ,IAAAL,iBAAAA,aAAAK,KAAAA,IAAAC,kBAAAD,cAAAA,sBAAAA,wBAAAA,WAAAE,QAAAF,SAAAK,MAAAX,yBAAAC,gBAAAU,OAAAA,MAAAC,IAAAN,YAAAK,MAAAE,IAAAP,SAAAQ,UAAAC,sBAAAC,OAAAC,gBAAAD,OAAAE,iCAAAC,OAAAb,mBAAAa,KAAAH,OAAAI,UAAAC,eAAAC,KAAAhB,IAAAa,UAAAI,KAAAR,sBAAAC,OAAAE,yBAAAZ,IAAAa,UAAAI,OAAAA,KAAAV,KAAAU,KAAAC,KAAAR,OAAAC,eAAAH,OAAAK,IAAAI,MAAAT,OAAAK,KAAAb,IAAAa,KAAAL,OAAAN,QAAAF,IAAAK,OAAAA,MAAAa,IAAAlB,IAAAQ,eAAAA,OAF7BW,CAAAf,KACAgB,cAAArB,uBAAAqB,eACAC,MAAAtB,uBAAAsB,OAGA,IAAIC,mCAC2B,mCA0B7BC,SAAAC,YAlB0BC,OACxB,IAAIC,GAAKD,KAAKC,GACVC,gBAAkBvB,IAAIwB,WAAW,gBAAiB,mBACtDxB,IAAIyB,YAAY,CACZ,CAAChB,IAAK,WACN,CAACA,IAAK,YACPiB,MAAK,SAASC,GACbC,sBAAaC,QAAQF,EAAE,GAAIJ,gBAAiBI,EAAE,GAAIA,EAAE,IAAI,WACrCG,cAAKlB,KAAK,CACrB,CAACmB,WAAYb,mCAAoCG,KAAM,CAACC,GAAIA,OAEvD,GAAGU,MAAK,WACbC,OAAOC,SAASC,YACjBC,MAAK,qBAIbA,KAAKR,sBAAaS,UAAU,EAsBjClB,SAAAmB,KAhBkBA,MAChB,EAAAC,iBAAEC,UAAUC,OAAM,YACd,EAAAF,iBAAE,cAAcG,UAAU,CACtBC,UAAU,EACVC,OAAQ,EACRC,WAAY,CAAC,EAAG,GAAI,GAAI,IACxBC,SAAU,CACNC,WAAY,mBACZC,SAAU,CACNC,SAAU,IACVC,KAAM,KAEVC,YAAa,mCAGvB,CACJ"}