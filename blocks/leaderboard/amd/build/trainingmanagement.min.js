/**
 * Add a create new group modal to the page.
 *
 * @module     local_courses/trainingmanagement
 * @class      trainingmanagement
 * @package    local_courses
 * @copyright  2018 Sreenivas
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later 
 */
define("block_leaderboard/trainingmanagement",["local_assignroles/jquery.dataTables","jquery","core/str","core/modal_factory","core/modal_events","core/fragment","core/ajax","core/yui","core/templates"],(function(dataTable,$,Str,ModalFactory,ModalEvents,Fragment,Ajax,Y,Templates){var trainingmanagement=function(args){this.contextid=args.contextid?args.contextid:1,this.args=args,this.init(args),this.tunit=args.tunit};return trainingmanagement.prototype.modal=null,trainingmanagement.prototype.contextid=-1,trainingmanagement.prototype.init=function(args){var self=this;return customstrings=Str.get_strings([{key:"courses",component:"block_leaderboard"},{key:"squads",component:"block_leaderboard"},{key:"users",component:"block_leaderboard"},{key:"instructors",component:"block_leaderboard"},{key:"close",component:"block_leaderboard"},{key:"reviews",component:"block_leaderboard"},{key:"gradeshistory",component:"local_instructor_rating"}]),customstrings.then(function(strings){var title="";return"coursespopup"==this.args.callback?title=strings[0]:"squads"==this.args.callback?title=strings[1]:"users"==this.args.callback?title=strings[2]:"instructors"==this.args.callback?title=strings[3]:"reviews"==this.args.callback?title=strings[5]:"gradeshistory"==this.args.callback&&(title=strings[6]),ModalFactory.create({type:ModalFactory.types.CANCEL,title:title,body:this.getBody()})}.bind(this)).then(function(modal){return this.modal=modal,self.modal.setLarge(),self.modal.getRoot().on(ModalEvents.hidden,function(){self.modal.setBody(""),self.modal.hide(),self.modal.destroy()}.bind(this)),self.modal.getRoot().on(ModalEvents.cancel,function(){self.modal.setBody(""),self.modal.hide(),self.modal.destroy()}.bind(this)),this.modal.getRoot().on(ModalEvents.bodyRendered,function(){this.dataTableshow(args.tunit)}.bind(this)),self.modal.show(),this.modal}.bind(this))},trainingmanagement.prototype.dataTableshow=function(tunit){$.fn.dataTable.ext.errMode="none",$(".managementpopuptable_details").dataTable({bPaginate:!0,bFilter:!0,bLengthChange:!0,lengthMenu:[[5,10,25,50,100,-1],[5,10,25,50,100,"All"]],language:{emptyTable:"No Records Found",paginate:{previous:"<",next:">"}},bProcessing:!0})},trainingmanagement.prototype.getBody=function(args){return console.log(this.args),Fragment.loadFragment(this.args.component,this.args.callback,1,this.args)},trainingmanagement.prototype.getFooter=function(customstrings){return'<button type="button" class="btn btn-secondary" data-action="cancel">'+customstrings[0]+"</button>"},trainingmanagement.prototype.getcontentFooter=function(){return Str.get_strings([{key:"cancel"}]).then(function(s){return $footer='<button type="button" class="btn btn-secondary" data-action="cancel">'+s[1]+"</button>",$footer}.bind(this))},{load:function(){$("#leaderboard").dataTable({bPaginate:!0,bFilter:!0,bLengthChange:!1,pageLength:5,language:{emptyTable:"No Records Found",paginate:{previous:"<",next:">"}},bProcessing:!0,ordering:!1}),$.fn.dataTable.ext.errMode="none"}}}));

//# sourceMappingURL=trainingmanagement.min.js.map